<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía de Estudio — Language Paisa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #fcfaf7; color: #1c1c1c; margin: 0; }
        .serif { font-family: 'Playfair Display', serif; }
        .bg-navy { background-color: #0a192f; }
        .gold-accent { color: #b08d57; }
        .study-card { background: white; border: 1px solid #e7e5e4; border-radius: 4px; }
        .back-link { transition: all 0.3s ease; letter-spacing: 0.1em; }
        .back-link:hover { color: #b08d57 !important; padding-left: 5px; }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">
    <div class="bg-navy py-1.5 text-center">
        <p class="text-[9px] tracking-[0.4em] uppercase text-yellow-100/80 font-medium">Portal de Estudiantes</p>
    </div>

    <nav class="py-6 px-6 md:px-12 flex justify-between items-center border-b border-stone-200 bg-white">
        <div class="text-xl md:text-2xl font-bold tracking-widest uppercase serif italic text-slate-800">Language Paisa</div>
        <div class="text-right">
            <p class="text-[8px] uppercase tracking-[0.3em] font-bold text-slate-400 leading-none mb-1">Established</p>
            <p class="serif italic text-xs gold-accent">MMXXVI</p>
        </div>
    </nav>

    <main class="max-w-4xl mx-auto w-full px-6 py-12 flex-grow">
        <div class="mb-10">
            <a href="../curso.html" class="back-link text-[10px] uppercase font-bold text-slate-400 flex items-center gap-2">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>
                Volver a la Malla Curricular
            </a>
        </div>
        
        <header class="mb-12">
            <span id="sectionLabel" class="text-[10px] uppercase tracking-[0.4em] gold-accent font-bold mb-3 block">Guía de Preparación</span>
            <h1 id="lessonTitle" class="text-4xl md:text-5xl serif italic mb-4 text-slate-900 text-center md:text-left">Cargando Lección...</h1>
            <p class="text-stone-500 italic serif text-lg">Revisa las respuestas correctas para dominar esta lección antes de tu evaluación.</p>
        </header>

        <div id="studyWrapper" class="space-y-6">
            <p class="text-center py-20 text-stone-400 italic">Sincronizando material de estudio...</p>
        </div>

        <div class="mt-16 p-8 bg-white border-2 border-stone-100 text-center rounded-sm">
            <h3 class="serif italic text-2xl mb-6">¿Estás listo?</h3>
            <button onclick="goToQuiz()" class="bg-[#0a192f] hover:bg-[#b08d57] text-white px-10 py-4 uppercase tracking-widest text-xs font-bold transition-all">
                Iniciar Evaluación
            </button>
        </div>
    </main>

    <footer class="border-t border-stone-200 py-12 bg-white text-center mt-20">
        <div class="serif italic text-xl text-slate-800 font-medium">LanguagePaisa.com</div>
        <p class="text-[10px] uppercase tracking-[0.3em] text-slate-400">© 2026 Language Paisa • All Rights Reserved</p>
    </footer>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const lessonId = urlParams.get('id');

        async function loadStudyGuide() {
            if (!lessonId) return;

            const displayTitle = lessonId.replace('leccion', 'Lección ').replace('.', '.');
            document.getElementById('lessonTitle').textContent = `Guía de Estudio: ${displayTitle}`;

            try {
                const response = await fetch('/data/questions.json');
                const allData = await response.json();
                const questions = allData[lessonId];

                const wrapper = document.getElementById('studyWrapper');
                
                if (!questions) {
                    wrapper.innerHTML = `<div class="p-8 bg-red-50 text-red-800 border border-red-100">No se encontró contenido para esta lección.</div>`;
                    return;
                }

                wrapper.innerHTML = '';

                questions.forEach((q, index) => {
                    const correctText = q.options[q.correct];
                    
                    const card = document.createElement('div');
                    card.className = 'study-card p-6 md:p-8';
                    card.innerHTML = `
                        <p class="text-xl font-semibold mb-4 text-slate-800">${index + 1}. ${q.question}</p>
                        <div class="bg-stone-50 p-5 border-l-4 border-[#b08d57]">
                            <p class="text-slate-900 text-lg">${correctText}</p>
                        </div>
                    `;
                    wrapper.appendChild(card);
                });
            } catch (e) {
                console.error("Error loading study guide:", e);
                document.getElementById('studyWrapper').innerHTML = `<div class="p-8 text-center text-stone-400 italic">Error al cargar el archivo de datos.</div>`;
            }
        }

        function goToQuiz() {
            window.location.href = `leccion.html?id=${lessonId}`;
        }

        loadStudyGuide();
    </script>
</body>
</html>